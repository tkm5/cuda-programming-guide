---
title: "S1-L8: Parameters required to compare between different Architectures"
description: "Introduction to the Nvidia GPUs hardware - Parameters required to compare between different Architecturesの解説"
sectionNumber: 1
sectionTitle: "Introduction to the Nvidia GPUs hardware"
lectureNumber: 8
lectureTitle: "Parameters required to compare between different Architectures"
difficulty: "beginner"
tags: ["gpu-hardware", "cuda"]
category: "gpu-hardware"
order: 108
---
import Quiz from '@/components/content/Quiz.astro'

## 概要

このレクチャーでは，異なるGPUアーキテクチャを比較するための主要なパラメータとメトリクスを解説します．メモリ帯域幅，命令スループット，コア数とクロック速度のバランス，そして新しいハードウェアユニットの導入がGPU性能にどう影響するかを学びます．

## 主要な内容

### メモリ帯域幅（Memory Bandwidth）

`メモリ帯域幅`とは，メモリが1秒間に処理できるデータ量のことで，GB/sで測定されます．

例えば，帯域幅が32ビット/秒のメモリと4つのコア（各コアが32ビットを読み取る必要がある）の場合，メモリは一度に1つのリクエストしか処理できず，4つのリクエストすべてに応答するのに4秒かかります．帯域幅が128ビット/秒のメモリであれば，4つのリクエストを1秒で処理できます．

#### バス幅の影響

バス幅は道路の車線数に例えられます：

```mermaid
graph TD
    subgraph "バス幅2ビット = 2車線"
        A["1秒あたり2台通過"] --> B["帯域幅: 2ビット/秒"]
    end
    subgraph "バス幅4ビット = 4車線"
        C["1秒あたり4台通過"] --> D["帯域幅: 4ビット/秒"]
    end
```

バス幅を32ビットから64ビットに倍増させると，同じ時間内に転送できるデータ量が増加します（メモリ速度が同じ場合）．

#### メモリ速度の影響

メモリの`クロック速度`も帯域幅に影響します．道路の例では，各車線を管理する検査官の作業速度に相当します．検査官がより速く作業すれば，より多くの車がチェックポイントを通過できます．

#### A100とRTX 3090の比較

| 項目 | A100（Tesla） | RTX 3090（GeForce） |
|------|-------------|-------------------|
| バス幅 | 5,120ビット以上 | 約384ビット |
| メモリ技術 | HBM2 | GDDR6 |
| メモリ帯域幅 | 大幅に優位 | - |

同じ`Ampere`アーキテクチャでもバス幅に10倍以上の差があります．

### 命令スループット（Instructions Throughput）

`スループット`とは，GPU全体が1秒間に実行できる命令の総数です．コア数とコア速度の2つの要因に影響されます．

100コアのGPUと200コアのGPUで200個の独立した命令を実行する場合，100コアのGPUは2サイクル，200コアのGPUは1サイクルで完了します．しかし，各サイクルの所要時間も重要です：

- 100コアのGPU：1サイクル=1秒の場合 → 合計2秒
- 200コアのGPU：1サイクル=4秒の場合 → 合計4秒

この場合，コア数が少ないGPUの方が高速に完了します．つまり，コア数だけでなくクロック速度も性能に等しく重要です．

### エネルギー消費のトレードオフ

コア数が多く，クロック速度が高いGPUは必ずしも最適とは限りません．高速・高コア数はエネルギー消費の増加を伴います．エネルギー効率を重視する場合，低仕様のGPUが選択されることもあります．

### 新しいハードウェアユニットの導入

新アーキテクチャで追加されるハードウェアユニットは，性能に劇的な影響を与えることがあります．

`Volta`アーキテクチャ（2017年）で導入された`Tensor Core`はその代表例です．`Pascal`から`Volta`への同じAIアプリケーションで約8倍の性能向上が実現されました．8日間かかっていた計算が1日で完了できるようになった計算です．

```mermaid
graph LR
    P["Pascal: 8日間"] -->|"Tensor Core導入"| V["Volta: 1日間"]
```

## まとめ

- GPU性能の評価には複数の指標が必要：メモリ帯域幅，命令スループット，エネルギー消費など
- メモリ帯域幅はバス幅，メモリ速度，メモリ技術によって決まる
- コア数だけでなくクロック速度も性能に同等の影響を持つ
- エネルギー効率と計算性能はトレードオフの関係にある
- `Tensor Core`のような新ハードウェアユニットの導入は性能に劇的な影響を与える

<Quiz questions={[
  {
    question: "メモリ帯域幅を決定する主な要因として正しいものはどれですか？",
    options: [
      "コア数とキャッシュサイズ",
      "バス幅とメモリ速度",
      "クロック速度とトランジスタ数",
      "消費電力とチップサイズ"
    ],
    answer: 1,
    explanation: "メモリ帯域幅はバス幅（データ転送の車線数に相当）とメモリ速度（データ転送のクロック速度）の2つの要因によって決定されます．バス幅が広いほど，メモリ速度が高いほど，帯域幅は大きくなります．"
  },
  {
    question: "Tensor CoreがVoltaアーキテクチャで導入されたことによる，同じAIアプリケーションでのPascalとの性能差はどのくらいですか？",
    options: [
      "約2倍",
      "約4倍",
      "約8倍",
      "約16倍"
    ],
    answer: 2,
    explanation: "VoltaアーキテクチャでTensor Coreが導入されたことにより，Pascalと比較して同じAIアプリケーションで約8倍の性能向上が実現されました．8日間かかっていた計算が1日で完了できるようになりました．"
  },
  {
    question: "GPU性能の比較において，コア数だけでなくクロック速度も重要である理由は何ですか？",
    options: [
      "クロック速度が高いほど消費電力が下がるため",
      "コア数が多くてもクロック速度が遅ければ処理全体が遅くなる可能性があるため",
      "クロック速度はメモリ容量に影響するため",
      "コア数とクロック速度は常に同じ値になるため"
    ],
    answer: 1,
    explanation: "コア数が多くても各サイクルの所要時間が長ければ，コア数が少なくてもクロック速度の高いGPUの方が高速に処理を完了する場合があります．例えば，100コア・1秒/サイクルのGPUは200個の命令を2秒で処理しますが，200コア・4秒/サイクルのGPUは4秒かかります．"
  }
]} />
